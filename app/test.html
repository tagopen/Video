<!DOCTYPE html>
<html class="html" lang="ru" prefix="og: http://ogp.me/ns#">
  <head>
    <title>test - Видео-поздравление от Дедушки Мороза</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <!-- Meta SEO - Description, Keywords, Title-->
    <meta name="title" content="Именное видеопоздравление от Дедушки Мороза с фотографией ребенка"/>
    <meta name="description" content="Удивите своего ребенка именным видео-поздравлением от Дедушки Мороза. Сказочный герой несколько раз назовет ребенка по имени и посмотрит его фотографию. Восторг и радость вашему малышу гарантированы! "/>
    <meta name="keywords" content=""/>
    <!-- Multilanguage localization-->
    <link rel="alternate" href="/" hreflang="x-default"/>
    <!-- Mobile viewport optimization-->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="HandheldFriendly" content="true"/>
    <meta name="MobileOptimized" content="320"/>
    <!--[if IEMobile]><meta http-equiv='cleartype' content='on' /><![endif]-->
    <!-- Replace favicon.ico and apple-touch-icon.png-->
    <link rel="shortcut icon" type="image/png" href="img/logo/favicon.png">
    <link rel="apple-touch-icon" type="image/png" href="img/logo/apple-touch-icon.png">
    <!-- Disables automatic  of possible phone numbers and address in Safari on iOS-->
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="address=no"/>
    <!-- Microformats Open Graph-->
    <meta property="og:title" content="Именное видеопоздравление от Дедушки Мороза с фотографией ребенка"/>
    <meta property="og:description" content="Удивите своего ребенка именным видео-поздравлением от Дедушки Мороза. Сказочный герой несколько раз назовет ребенка по имени и посмотрит его фотографию. Восторг и радость вашему малышу гарантированы! "/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="ru_RU"/>
    <meta property="og:image" content="http://video-pozdravlenie.com/img/logo/microformat.png"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:url" content="http://video-pozdravlenie.com/"/>
    <!-- Microformats Twitter Cards-->
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@flickr"/>
    <meta name="twitter:title" content="Именное видеопоздравление от Дедушки Мороза с фотографией ребенка"/>
    <meta name="twitter:description" content="Удивите своего ребенка именным видео-поздравлением от Дедушки Мороза. Сказочный герой несколько раз назовет ребенка по имени и посмотрит его фотографию. Восторг и радость вашему малышу гарантированы! "/>
    <meta name="twitter:image" content="http://video-pozdravlenie.com/img/logo/microformat.png"/>
    <!-- build:css css/bundle.min.css-->
    <!-- Fonts CSS-->
    <link rel="stylesheet" href="css/fonts.css">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- Font-Awesome CSS-->
    <link rel="stylesheet" href="css/font-awesome.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <!-- endbuild-->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries-->
    <!-- WARNING: Respond.js doesn't work if you view the page via file://--><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>
  <body class="body" id="top"><!--[if lt IE 10]>
<div class="alert alert-warning alert-dismissible fade show m-0 rounded-0" role="alert">
<button type="button" class="close" data-dismiss="alert" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
    <You>are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</You></div>
<![endif]-->
    <main class="main">
      <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content docs-buttons">
            <div class="modal-header">
              <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
              <h4 class="modal-title" id="myModalLabel">Загрузка фотографии</h4>
            </div>
            <div class="modal-body">
              <p style="    display: block;        text-align: center;        font-size: 20px;        /* margin-top: 10px; */        margin-bottom: 20px;        color: #0d395e;">Выберите нужную область фотографии и нажмите "Готово".</p>
              <div class="container-fluid">
                <div class="row">
                  <div class="col-md-12">
                    <!-- <h3 class="page-header">Demo:</h3>-->
                    <div class="img-container"><img id="image" src="" alt="Picture"></div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <!-- <h3 class="page-header">Toolbar:</h3>-->
                    <!-- Zoom in/out-->
                    <button class="btn btn-primary" type="button" data-method="zoom" data-option="0.1" title="Zoom In"><span class="docs-tooltip" data-toggle="tooltip" title="Zoom in"><span class="fa fa-search-plus"></span></span></button>
                    <button class="btn btn-primary" type="button" data-method="zoom" data-option="-0.1" title="Zoom Out"><span class="docs-tooltip" data-toggle="tooltip" title="Zoom out"><span class="fa fa-search-minus"></span></span></button>
                    <!-- Rotate-->
                    <button class="btn btn-primary" type="button" data-method="rotate" data-option="-90" title="Rotate Left"><span class="docs-tooltip" data-toggle="tooltip" title="Rotate -90 deg"><span class="fa fa-rotate-left"></span></span></button>
                    <button class="btn btn-primary" type="button" data-method="rotate" data-option="90" title="Rotate Right"><span class="docs-tooltip" data-toggle="tooltip" title="Rotate 90 deg"><span class="fa fa-rotate-right"></span></span></button>
                    <button class="btn btn-green pull-right" type="button" data-method="getCroppedCanvas"><span class="docs-tooltip" data-toggle="tooltip" title="Готово">Готово</span></button>
                  </div>
                  <!-- /.docs-buttons-->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <form class="main" id="createForm" method="post">
        <div class="block-blue page-title clearfix" style="text-align: left; padding-left: 30px; padding-right: 30px; padding-top: 25px; padding-bottom: 20px;"><a href="/" style="display: inline-block; vertical-align: middle; float: left;"><img src="/assets/img/inner/logo.png" width="240" style="margin-top: -10px;"></a>
          <div style="display: inline-block; vertical-align: middle; float: right; text-align: right; color: #0d395e; font-size: 18px;">По всем вопросам пишите на почту:<br>                    support@chudodetyam.ru</div>
        </div>
        <div class="block-white block-create">
          <h1>Дед мороз будет поздравлять мальчика!</h1>
          <div class="create-frame"><img id="frameImage" src="/dist/img/kid_male.jpg" width="212" height="273"></div>
          <div class="create-content"><span>Загрузите фотографию ребенка.<br>                            Она появится в этой рамке.</span>
            <label class="btn btn-green" id="uploadBtn" href="#"><span id="uploadBtnText">Загрузить фотографию</span>
              <input class="sr-only" id="inputImage" type="file" name="file" accept="image/*">
            </label><br><small>*После создания видео, фото вашего ребенка<br>                        автоматически удалится с нашего сервера.<br>                        Мы гарантируем полную конфиденциальность.</small>
          </div>
        </div>
        <div class="block-blue block-form">
          <h2>Заполните мини - анкету:</h2>
          <!--
          <div class="form-group" style="margin-top: 40px;">
          <div class="form-group-text">
          <span>Кем вы приходитесь ребенку?</span>
          <small>Это не влияет на сюжет видео-поздравления! В преддверии Нового Года мы розыграем сотни призов среди наших заказчиков!</small>
          </div>
          <div class="form-group-element">
          <select name="who_is">
          <option value="Мама">Мама</option>
          <option value="Папа">Папа</option>
          <option value="Дедушка">Дедушка</option>
          <option value="Бабушка">Бабушка</option>
          <option value="Тётя">Тётя</option>
          <option value="Дядя">Дядя</option>
          <option value="Другое">Другое</option>
          </select>
          </div>
          </div>
          -->
          <input type="hidden" name="who_is" value="">
          <div class="form-group">
            <div class="form-group-text"><span>Ваш телефон:</span><small>Мы пришлем вам СМС-уведомление о готовности вашего заказа, а также пришлем ссылку на вашу интернет-открытку.</small></div>
            <div class="form-group-element">
              <div class="phone-input-group">
                <input class="countryCode" id="phonePart1" type="text" placeholder="+7" name="CountryCode" autocomplete="off" value="+7">
                <input class="middleCode" id="phonePart2" type="number" min="1" max="999" placeholder="123" name="MiddleCode" autocomplete="off">
                <input class="mainPart" id="phonePart3" type="number" placeholder="4567890" name="MainPart" autocomplete="off">
                <input id="formattedPhone" type="hidden" name="formattedPhone" value="+79999999999">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="form-group-text"><span>Ваш Email:</span><small>Почта, на которую придет ваше готовое видео-поздравление!<br>                            Не допустите ошибок при вводе!</small></div>
            <div class="form-group-element">
              <input id="emailInput" type="email" name="email" placeholder="support@chudodetyam.ru">
            </div>
          </div><span class="conclude">*Убедитесь, что все поля заполнены верно! </span>
        </div>
        <div class="block-white block-footer">
          <input id="photo1" type="hidden" name="photo1">
          <input class="btn btn-green" type="submit" value="Посмотреть результат бесплатно"><small class="persdata">Нажимая кнопку «Подтверждаю», вы соглашаетесь на обработку<a href="/docs/personal" target="_blank">персональных данных</a>.</small>
        </div>
      </form>
    </main>
    <!-- build:js js/bundle.min.js-->
    <!-- Popper JavaScript-->
    <script src="js/popper.js"></script>
    <!-- jQuery-->
    <script src="js/jquery.js"></script>
    <!-- Bootstrap JavaScript-->
    <script src="js/bootstrap.js"></script>
    <script>
      $(document).ready(function() {
        /*
         * Валидация формы перед отправкой
         */
        $('#createForm').submit(function(e) {
          if (!validateCreateForm())
            e.preventDefault();
        });
      
        function validateCreateForm() {
          if (!validateCreateFormPhoto()) {
            alert('Пожалуйста, загрузите фотографию!');
            return false;
          }
          if ($('body').hasClass('createPageAdditional') && !validateCreateFormPhoto2()) {
            alert('Пожалуйста, загрузите фотографию!');
            return false;
          }
          if (!validateCreateFormPhone()) {
            alert('Пожалуйста, проверьте правильность ввода телефона!');
            return false;
          }
          if (!validateCreateFormEmail()) {
            alert('Пожалуйста, проверьте правильность ввода Email! На него придет готовое поздравление.');
            return false;
          }
          return true;
        }
      
        function validateCreateFormPhoto() {
          if ($('#photo1').val().length < 2)
            return false;
          return true;
        }
      
        function validateCreateFormPhoto2() {
          if ($('#photo2').val().length < 2)
            return false;
          return true;
        }
      
        function validateCreateFormPhone() {
          var phonePart1 = $('#phonePart1').val(),
            phonePart2 = $('#phonePart2').val(),
            phonePart3 = $('#phonePart3').val();
          var fullPhone = phonePart1 + phonePart2 + phonePart3;
          if (fullPhone.length == 0)
            return false;
          var country = countryCodeToName(phonePart1);
          if (isValidNumber(fullPhone, country)) {
            $('#formattedPhone').val(formatInternational(country, fullPhone));
            return true;
          }
          return false;
        }
      
        function validateCreateFormEmail() {
          var email = $('#emailInput').val();
          if (email.length == 0)
            return false;
          var regularExpression = /^([\\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
          return regularExpression.test(email);
        }
        $('#phonePart2').keyup(function(e) {
          if ($(this).val().length == 3)
            $('#phonePart3').focus();
        });
      });
      script.
      'use strict';
      $(function() {
        var $image = $('#image');
        var width = 617;
        var height = 795;
        var options = {
          viewMode: '1',
          aspectRatio: width / height,
          dragMode: 'move',
          responsive: true,
          cropBoxMovable: true, //перемещение кропбокса
          cropBoxResizable: true, //изменение размера кропбокса
          toggleDragModeOnDblclick: false
          // minContainerWidth: width,   //фиксированный контейнер
          // minContainerHeight: height, //фииксированный контейнер
          // minCropBoxHeight: height    //фиксированный кропбокс
        };
        // Tooltip
        // Cropper
        $image.cropper(options);
        // Buttons
        if (!$.isFunction(document.createElement('canvas').getContext)) {
          $('button[data-method="getCroppedCanvas"]').prop('disabled', true);
        }
        if (typeof document.createElement('cropper').style.transition === 'undefined') {
          $('button[data-method="rotate"]').prop('disabled', true);
        }
        // Methods
        $('.docs-buttons').on('click', '[data-method]', function() {
          var $this = $(this);
          var data = $this.data();
          var $target;
          var result;
          if ($this.prop('disabled') || $this.hasClass('disabled')) {
            return;
          }
          if ($image.data('cropper') && data.method) {
            data = $.extend({}, data); // Clone a new one
            if (typeof data.target !== 'undefined') {
              $target = $(data.target);
              if (typeof data.option === 'undefined') {
                try {
                  data.option = JSON.parse($target.val());
                } catch (e) {
                  console.log(e.message);
                }
              }
            }
            if (data.method === 'rotate') {
              $image.cropper('clear');
            }
            if (data.method === 'getCroppedCanvas') {
              result = $image.cropper(data.method, {
                width: width,
                height: height
              });
            } else
              result = $image.cropper(data.method, data.option);
            if (data.method === 'rotate') {
              $image.cropper('crop');
            }
            if (data.method === 'getCroppedCanvas') {
              if (result) {
                try {
                  var base64 = result.toDataURL("image/jpeg");
                  $('#frameImage').attr('src', base64);
                  $('#photo1').val(base64);
                  $('#myModal').modal('hide');
                  $('#uploadBtnText').html('Загрузить другое фото');
                  $('#uploadBtn').addClass('btn-red');
                  // console.log(base64 + "\\nWidth: " + result.width + "\nHeight: " +  result.height);
                } catch (error) {
                  console.log('Error: ' + error.message);
                }
              }
            }
            if ($.isPlainObject(result) && $target) {
              try {
                $target.val(JSON.stringify(result));
              } catch (e) {
                console.log(e.message);
              }
            }
          }
        });
        // Import image
        var $inputImage = $('#inputImage');
        var URL = window.URL || window.webkitURL;
        var blobURL;
        if (URL) {
          $inputImage.change(function() {
            var files = this.files;
            var file;
            if (!$image.data('cropper')) {
              return;
            }
            if (files && files.length) {
              file = files[0];
              if (/^image\\/\
                w + $ / .test(file.type)) {
                $('#myModal').modal('show');
                blobURL = URL.createObjectURL(file);
                $image.one('built.cropper', function() {
                  // Revoke when load complete
                  URL.revokeObjectURL(blobURL);
                }).cropper('reset').cropper('replace', blobURL);
                $inputImage.val('');
              } else {
                window.alert('Please choose an image file.');
              }
            }
          });
        } else {
          $inputImage.prop('disabled', true).parent().addClass('disabled');
        }
      });
    </script>
    <!-- Cropper JavaScript-->
    <script src="js/cropper.js"></script>
    <!-- CountDown JavaScript-->
    <script src="js/jquery.countdown.js"></script>
    <!-- Match Height JavaScript-->
    <script src="js/jquery.matchHeight.js">   </script>
    <!-- Validator JavaScript-->
    <script src="js/validator.js"></script>
    <script src="js/contact_me.js"> </script>
    <!-- Select2 JavaScript-->
    <script src="js/select2.js"></script>
    <!-- Clave.js JavaScript-->
    <script src="js/cleave.js"></script>
    <!-- Parsley validator JavaScript-->
    <script src="js/parsley.js"></script>
    <!-- Trace Library JavaScript-->
    <script src="https://cdn.ravenjs.com/3.20.1/raven.min.js" crossorigin="anonymous"></script>
    <!-- Custom JavaScript-->
    <script src="js/main2.js"></script>
    <!-- CRM AMO-->
    <script>var amo_social_button = {id: 3324, hash: "c0f3fc79deb5c762002d0eaec20b1cdec73ad6904e7f99b643097abe976effad", locale: "ru"};</script>
    <script id="amo_social_button_script" async="async" src="https://gso.amocrm.ru/js/button.js"></script>
    <!-- Google Tag Manager-->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TGMCLGR');
    </script>
    <!-- End Google Tag Manager-->
    <!-- Google Tag Manager (noscript)-->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TGMCLGR" height="0" width="0" style="display:none;visibility:hidden;"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript)-->
  </body>
</html>